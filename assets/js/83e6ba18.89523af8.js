"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3556],{8583:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>c,frontMatter:()=>r,metadata:()=>a,toc:()=>o});var t=i(5893),s=i(1151);const r={title:"Xiphium 2024-W43 update",authors:["jim"]},d=void 0,a={permalink:"/xiphium-documentation/blog/2024/10/24/Xiphium-W43-Update/Index",editUrl:"https://github.com/Iribov/xiphium-documentation/edit/main/blog/2024-10-24-Xiphium-W43-Update/Index.md",source:"@site/blog/2024-10-24-Xiphium-W43-Update/Index.md",title:"Xiphium 2024-W43 update",description:"Here is the weekly update of (significant) changes made in Xiphium this week, extracted from Git(Hub).",date:"2024-10-24T00:00:00.000Z",formattedDate:"October 24, 2024",tags:[],readingTime:2.95,hasTruncateMarker:!0,authors:[{name:"Jim Kerver",title:"4D Developer @Iribov",url:"https://github.com/Jim-Kerver",imageURL:"https://github.com/Jim-Kerver.png",key:"jim"}],frontMatter:{title:"Xiphium 2024-W43 update",authors:["jim"]},unlisted:!1,prevItem:{title:"Xiphium 2024-W44 update",permalink:"/xiphium-documentation/blog/2024/11/01/Xiphium-W44-Update/Index"},nextItem:{title:"Xiphium 2024-W42 update",permalink:"/xiphium-documentation/blog/2024/10/18/Xiphium-W42-Update/Index"}},l={authorsImageUrls:[void 0]},o=[{value:"Clone",id:"clone",level:2},{value:"Financial",id:"financial",level:2},{value:"Delivery Items",id:"delivery-items",level:2},{value:"Greenhouse",id:"greenhouse",level:2},{value:"Planning (GHPA)",id:"planning-ghpa",level:3},{value:"Protocol1",id:"protocol1",level:3},{value:"Project2",id:"project2",level:2},{value:"PlantC_Total",id:"plantc_total",level:2},{value:"Order",id:"order",level:2},{value:"Analytical Lab",id:"analytical-lab",level:2},{value:"Analysis_Lysis",id:"analysis_lysis",level:3},{value:"Analysis Lysis Plate",id:"analysis-lysis-plate",level:3},{value:"TC Plan Group Year",id:"tc-plan-group-year",level:2},{value:"web stuff",id:"web-stuff",level:2}];function h(e){const n={admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Here is the weekly update of (significant) changes made in Xiphium this week, extracted from Git(Hub)."}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"These are interpretations of code read from the weekly changes from Git(Hub) and are therefore prone to errors."})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"A staggering 518 files have been modified this week! Because of this overwhelming amount of (mostly) Form changes, only the Project method changes are discussed here."})}),"\n",(0,t.jsx)(n.h2,{id:"clone",children:"Clone"}),"\n",(0,t.jsxs)(n.p,{children:["Method ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"Clo_ReadyForGreenHouse"})})," has been added. This method analyses all related [analysis_sample] (and the  relatedsamples from Origin Clones) to see if any pathogen is last tested positive, and compares the analysed pathogens to a list of pathogens that should be tested. This method is the 'missing link' to be able to send only 'clean' material to the greenhouse."]}),"\n",(0,t.jsx)(n.h2,{id:"financial",children:"Financial"}),"\n",(0,t.jsx)(n.p,{children:"Some work has been done on the [FinLeG_Codes] table."}),"\n",(0,t.jsxs)(n.p,{children:["Method ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"FinLGC_AddRecord_FinLGT"})})," has been added. Should we implement this logic into the 'Create Record' button?"]}),"\n",(0,t.jsxs)(n.p,{children:["Method ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"FinLGC_UpdateRecord"})})," has been added. The method only creates an IDM and counts the amount of related FinLeG_Total and FinLed_Codes records"]}),"\n",(0,t.jsxs)(n.p,{children:["Method ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"FinLGT_UpdateRecord"})})," has its classic query replaced by an ORDA query."]}),"\n",(0,t.jsxs)(n.p,{children:["Methods ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"FinLeC_UpdateRecord"})}),", ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"FinLeM_UpdateRecord"})}),", ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"FinLeT_UpdateRecord"})}),", ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"FinLeT_UpdateRecord"})})," and ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"FinLeT_UpdateRecord_Validate"})})," have been modified with an ORDA query to [FinLed_Codes] to get the LedgerGroup Code and/or Name. Why is this needed, just use the relation where this group code/name is needed!"]}),"\n",(0,t.jsx)(n.h2,{id:"delivery-items",children:"Delivery Items"}),"\n",(0,t.jsxs)(n.p,{children:["Method ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"DiT_UpdateRecord"})})," has been modified. the method now has an added IF/Else statement checking if the DiT has an Order IDM and takes information from other delivery items with the same order conenction:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4D",children:'If ([Delivery_Items]DiT_IDM_Ord#0)\r\n\t$diT:=ds.Delivery_Items.query("DiT_IDM_Ord = :1"; [Delivery_Items]DiT_IDM_Ord)\r\n\t[Delivery_Items]DiT_Order_Sum_DiT:=$diT.sum("DiT_N_Plant")\r\n\t[Delivery_Items]DiT_Order_Sum_Dif:=[Delivery_Items]DiT_N_Plant_Order-[Delivery_Items]DiT_Order_Sum_DiT\r\nElse \r\n\t[Delivery_Items]DiT_Order_Sum_DiT:=0\r\n\t[Delivery_Items]DiT_Order_Sum_Dif:=0\r\nEnd if \n'})}),"\n",(0,t.jsx)(n.p,{children:"As mentioned in other blogs, there is no need to do an If statement here if you wrap the .sum() with a Num() as follows:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4D",children:'$diT:=ds.Delivery_Items.query("DiT_IDM_Ord = :1"; [Delivery_Items]DiT_IDM_Ord)\r\n[Delivery_Items]DiT_Order_Sum_DiT:=Num($diT.sum("DiT_N_Plant"))\r\n[Delivery_Items]DiT_Order_Sum_Dif:=[Delivery_Items]DiT_N_Plant_Order-[Delivery_Items]DiT_Order_Sum_DiT\n'})}),"\n",(0,t.jsx)(n.h2,{id:"greenhouse",children:"Greenhouse"}),"\n",(0,t.jsx)(n.h3,{id:"planning-ghpa",children:"Planning (GHPA)"}),"\n",(0,t.jsxs)(n.p,{children:["Methods ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"GHPA_Automatic_Planning_Calc"})}),", ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"GHPA_Backwards_Calculation"})})," ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"Ord_Create_and_Update_GHPA"})})," have been adjusted to work properly with floating actions."]}),"\n",(0,t.jsx)(n.h3,{id:"protocol1",children:"Protocol1"}),"\n",(0,t.jsxs)(n.p,{children:["Method ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"Prot1_UpdateRecord"})})," has been modified to make sure only 1 protocol version is active (at all times)."]}),"\n",(0,t.jsx)(n.h2,{id:"project2",children:"Project2"}),"\n",(0,t.jsxs)(n.p,{children:["Method ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"Pro2_Excel_Export_ProjectUpdate"})})," has been added. The method creates an excel file with some basic data from Project2, but the format is pretty."]}),"\n",(0,t.jsx)(n.h2,{id:"plantc_total",children:"PlantC_Total"}),"\n",(0,t.jsxs)(n.p,{children:["Method ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"PlaCT_UpdateRecord"})})," has been modified. The TCPA query now only includes records records with plants present."]}),"\n",(0,t.jsx)(n.h2,{id:"order",children:"Order"}),"\n",(0,t.jsxs)(n.p,{children:["Method ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"Ord_ExportExcel_Flex"})})," has been modified. 2 new options have been added:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Transp. temp Stage2"}),"\n",(0,t.jsx)(n.li,{children:"Transp. temp Stage3"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"analytical-lab",children:"Analytical Lab"}),"\n",(0,t.jsx)(n.p,{children:"\u2702icon added to the lysis plate label/sticker. First the unicode character was used, but this didn't work."}),"\n",(0,t.jsx)(n.h3,{id:"analysis_lysis",children:"Analysis_Lysis"}),"\n",(0,t.jsx)(n.p,{children:"[Analysis_Lysis] has the same abbreviation as [Action_List] (AL), so methods for [Analysis_Lysis] are renamed to AnL_ instead of AL_ so no collision is method naming will occur."}),"\n",(0,t.jsx)(n.h3,{id:"analysis-lysis-plate",children:"Analysis Lysis Plate"}),"\n",(0,t.jsx)(n.p,{children:"Access for the Analysis Lysis Plate list and detail form has been modified for better naming."}),"\n",(0,t.jsx)(n.h2,{id:"tc-plan-group-year",children:"TC Plan Group Year"}),"\n",(0,t.jsxs)(n.p,{children:["Method ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"TCPY_UpdateRecord"})})," now also sums the amount of plants present from TCPA."]}),"\n",(0,t.jsxs)(n.p,{children:["Method ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"TCPY_UpdateRecord_Val"})}),' has been modified. Thee delivery items query now includes records where Dit_stage="DF".']}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsx)(n.p,{children:"When using 'hardcoded' values in a query, there is no need for a placeholder. The following query:"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4D",children:'$delivery_Items:=ds.Delivery_Items.query("DiT_ID_TCPG = :1 and DiT_Month = :2 and (Dit_Stage = :3 or Dit_Stage = :4)"; $ID_TCPG; $Year_Text+"@"; $DelStage; "DF")\n'})}),(0,t.jsx)(n.p,{children:"can be rewritten as:"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4D",children:'$delivery_Items:=ds.Delivery_Items.query("DiT_ID_TCPG = :1 and DiT_Month = :2 and (Dit_Stage = :3 or Dit_Stage = \'DF\')"; $ID_TCPG; $Year_Text+"@"; $DelStage)\n'})}),(0,t.jsx)(n.p,{children:"This makes the query more concise and easy to read."})]}),"\n",(0,t.jsx)(n.h2,{id:"web-stuff",children:"web stuff"}),"\n",(0,t.jsx)(n.p,{children:"small adjustments and refactors done to the 'media' app methods."})]})}function c(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},1151:(e,n,i)=>{i.d(n,{Z:()=>a,a:()=>d});var t=i(7294);const s={},r=t.createContext(s);function d(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);