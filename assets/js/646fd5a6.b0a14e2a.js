"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4153],{7007:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>c,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var i=t(4848),r=t(8453);const o={title:"Xiphium 2025-W19 update",authors:["jim"]},s=void 0,a={permalink:"/xiphium-documentation/blog/2025/05/09/Xiphium-W19-Update",editUrl:"https://github.com/Iribov/xiphium-documentation/edit/main/blog/2025-05-09-Xiphium-W19-Update/index.md",source:"@site/blog/2025-05-09-Xiphium-W19-Update/index.md",title:"Xiphium 2025-W19 update",description:"Here is the weekly update of (significant) changes made in Xiphium this week, extracted from Git(Hub).",date:"2025-05-09T00:00:00.000Z",formattedDate:"May 9, 2025",tags:[],readingTime:3.875,hasTruncateMarker:!0,authors:[{name:"Jim Kerver",title:"4D Developer @Iribov",url:"https://github.com/Jim-Kerver",imageURL:"https://github.com/Jim-Kerver.png",key:"jim"}],frontMatter:{title:"Xiphium 2025-W19 update",authors:["jim"]},unlisted:!1,prevItem:{title:"Xiphium 2025-W20 update",permalink:"/xiphium-documentation/blog/2025/05/16/Xiphium-W20-Update"},nextItem:{title:"Xiphium 2025-W17 update",permalink:"/xiphium-documentation/blog/2025/04/25/Xiphium-W17-Update"}},d={authorsImageUrls:[void 0]},l=[{value:"Invoicing",id:"invoicing",level:2},{value:"Analytical Lab",id:"analytical-lab",level:2},{value:"Lysis Plate",id:"lysis-plate",level:3},{value:"Test Group",id:"test-group",level:3},{value:"Link Test Group",id:"link-test-group",level:3},{value:"Analysis Test",id:"analysis-test",level:3},{value:"Dashboard",id:"dashboard",level:2},{value:"Documents",id:"documents",level:2},{value:"Financial Ledger",id:"financial-ledger",level:2},{value:"Greenhouse",id:"greenhouse",level:2},{value:"Greenhouse Planning",id:"greenhouse-planning",level:3},{value:"Order",id:"order",level:2},{value:"Plant",id:"plant",level:2},{value:"TCPA",id:"tcpa",level:2},{value:"Web Stuff",id:"web-stuff",level:2},{value:"Misc",id:"misc",level:2}];function h(e){const n={admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Here is the weekly update of (significant) changes made in Xiphium this week, extracted from Git(Hub)."}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsx)(n.p,{children:"These are interpretations of code read from the weekly changes from Git(Hub) and are therefore prone to errors."})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"The 2025-W18 update is incorporated into this week's update. So this is 2 weeks of progress in 1 blog post. Because of this, only project method changes are discussed here."})}),"\n",(0,i.jsx)(n.h2,{id:"invoicing",children:"Invoicing"}),"\n",(0,i.jsxs)(n.p,{children:["Method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"InD_UpdateRecord"})})," has been updated to create a Project2_Year record when it doesn't exist yet (but only if the Project2 records exists already!)."]}),"\n",(0,i.jsxs)(n.p,{children:["Creditor 006 'Brasil' has been added to method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Inv_GetNextInvoiceNr"})}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"analytical-lab",children:"Analytical Lab"}),"\n",(0,i.jsx)(n.h3,{id:"lysis-plate",children:"Lysis Plate"}),"\n",(0,i.jsx)(n.p,{children:"The option 'External Preparation' (for when a client delivers an already prepared lysis plate) got lost in the Lysis Plate introduction update, but has been added to the UI once more."}),"\n",(0,i.jsx)(n.h3,{id:"test-group",children:"Test Group"}),"\n",(0,i.jsxs)(n.p,{children:["Method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"AnGr_UpdateRecord"})})," has code implemented that evaluates its begin and end date, and updates the status accordingly. Classic queries have also been converted to ORDA."]}),"\n",(0,i.jsx)(n.h3,{id:"link-test-group",children:"Link Test Group"}),"\n",(0,i.jsx)(n.p,{children:"The table [Analysis_Link_Test_Group] that links [Analysis_Test] with [AnalysisGroup] has received some development. Classic queries have been converted to ORDA."}),"\n",(0,i.jsx)(n.h3,{id:"analysis-test",children:"Analysis Test"}),"\n",(0,i.jsxs)(n.p,{children:["Method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"AnTe_UpdateRecord"})})," has received lots of edits. Mostly to convert classic queries to ORDA."]}),"\n",(0,i.jsx)(n.admonition,{type:"danger",children:(0,i.jsxs)(n.p,{children:["Lines 60-66 of method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"AnTe_UpdateRecord"})})," are now commented out. This code aggregates related pathogens into 1 string to show in the test table. This is needed because a single test can have 1 or more pathogens related to it. Only showing 1 related pathogen in the 'test' table is misleading (and it's what the method is doing now)."]})}),"\n",(0,i.jsx)(n.h2,{id:"dashboard",children:"Dashboard"}),"\n",(0,i.jsxs)(n.p,{children:["Method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Dash_D2_FillGraph"})})," has a bug fixed. During the renaming of Crop Week and Crop Year, one variable was not changed to the new naming standard."]}),"\n",(0,i.jsx)(n.h2,{id:"documents",children:"Documents"}),"\n",(0,i.jsxs)(n.p,{children:["Table [Order_Quality_Score] has been added to method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Doc_GetPrimaryKeyForTable"})})]}),"\n",(0,i.jsx)(n.h2,{id:"financial-ledger",children:"Financial Ledger"}),"\n",(0,i.jsx)(n.p,{children:"Ledger groups Month could sometimes get a sum value from related Ledger Months when updating the record, but not show any Ledger Month in the detail form of the Ledger Group Month. This was due to changes on how the related records were searches."}),"\n",(0,i.jsxs)(n.admonition,{title:"relate only one way!",type:"danger",children:[(0,i.jsx)(n.p,{children:"The financial ledgers module has too many ways to relate one table with another. This is mostly due to data duplication in all of the tables."}),(0,i.jsx)(n.p,{children:"I could connect from Ledger Group Year to Ledger Month in several different ways.\nHowever, the right relational database way is to have NEVER duplicate date (unless there is a good reason to). This means that the ledger code and description is only stored in the table [FinLed_Codes], and other tables are only connected to it (exception could be [FinLed_Total] that uses the ledger code as a foreign key). [FinLed_Year] & [FinLed_Month] only need to link to each other with IDs and can get the ledger code and description through the relation."}),(0,i.jsx)(n.p,{children:"The new tables [FinLed_Codes] and [FinLeg_Codes] are not connected to the other ledger tables at all!"})]}),"\n",(0,i.jsx)(n.h2,{id:"greenhouse",children:"Greenhouse"}),"\n",(0,i.jsx)(n.h3,{id:"greenhouse-planning",children:"Greenhouse Planning"}),"\n",(0,i.jsx)(n.p,{children:"Summer and Winter protocols are now incorporated into the greenhouse planning module. Certain steps can be 'summer' or 'winter' only. Every Prot_component als have the ability to add 'cycle days winter' that stack on top of the regular cycle days. The winter period can be given for each activity specifically."}),"\n",(0,i.jsx)(n.p,{children:"The activity 'flower photo' for purpose 'experiment' is now automically detected as 'done' when all related delivery items have a document that starts with 'experiment'. Greenhouse field now also tracks the amount of 'experiment' documents."}),"\n",(0,i.jsx)(n.h2,{id:"order",children:"Order"}),"\n",(0,i.jsxs)(n.p,{children:["Method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Ord_UpdateRecord"})})," has a code snippet added that gets the country code and country name from the [Company] table."]}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsx)(n.p,{children:"This code snippet uses a neat way to accomplish its purpose using ORDA:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-4D",children:'$Company:=ds.Company.query("Com_ComCode_Num = :1"; Num([Order:12]Ord_ComCode_Delivery2))\n[Order]Ord_CountryCode:=$Company.min("Com_CountryCode")\n[Order]Ord_CountryName:=$Company.min("Com_Country")\n'})}),(0,i.jsx)(n.p,{children:"In this way, if no company record was found, it should return empty strings. And even when multiple records are found (which should not happen), the code still works without errors."}),(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsx)(n.p,{children:"When multiple records are found (which should not happen), this code might return unexpected results."})})]}),"\n",(0,i.jsx)(n.h2,{id:"plant",children:"Plant"}),"\n",(0,i.jsxs)(n.p,{children:["Method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"PlaCT_UpdateRecord"})})," has code fixed that was filling [Protocol] fields for some reason. This weird code was introduced in 2023-W38."]}),"\n",(0,i.jsx)(n.p,{children:"Many methods and forms of Plant (PlantC_Year ,PlantYear, PlantTotal etc.) related tables have received updates."}),"\n",(0,i.jsx)(n.h2,{id:"tcpa",children:"TCPA"}),"\n",(0,i.jsxs)(n.p,{children:["Methods ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"TCPA_SyncExportOrders"})})," & ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"TCPA_SyncImportOrders"})})," have their logic tweaked slightly."]}),"\n",(0,i.jsx)(n.h2,{id:"web-stuff",children:"Web Stuff"}),"\n",(0,i.jsx)(n.p,{children:"Several methods related to the Order Score app have been modified."}),"\n",(0,i.jsx)(n.h2,{id:"misc",children:"Misc"}),"\n",(0,i.jsxs)(n.p,{children:["Utility method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"IsWeekInRange"})})," is added to easily return to you if a weeknumber falls within a range of weeknumber (even if they wrap around the year). This method is aded for the summer/winter protocol for the greenhouse planning."]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var i=t(6540);const r={},o=i.createContext(r);function s(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);