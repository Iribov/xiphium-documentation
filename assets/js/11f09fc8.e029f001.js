"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2e3],{8141:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var t=i(5893),r=i(1151);const o={title:"Xiphium 2024-W05 update",authors:["jim"]},a=void 0,s={permalink:"/xiphium-documentation/blog/2024/02/02/Xiphium-W05-Update",editUrl:"https://github.com/Iribov/xiphium-documentation/edit/main/blog/2024-02-02-Xiphium-W05-Update/index.md",source:"@site/blog/2024-02-02-Xiphium-W05-Update/index.md",title:"Xiphium 2024-W05 update",description:"Here is the weekly update of (significant) changes made in Xiphium this week, extracted from Git(Hub).",date:"2024-02-02T00:00:00.000Z",formattedDate:"February 2, 2024",tags:[],readingTime:2.91,hasTruncateMarker:!0,authors:[{name:"Jim Kerver",title:"4D Developer @Iribov",url:"https://github.com/Jim-Kerver",imageURL:"https://github.com/Jim-Kerver.png",key:"jim"}],frontMatter:{title:"Xiphium 2024-W05 update",authors:["jim"]},unlisted:!1,prevItem:{title:"Xiphium 2024-W06 update",permalink:"/xiphium-documentation/blog/2024/02/09/Xiphium-W06-Update"},nextItem:{title:"Xiphium 2024-W04 update",permalink:"/xiphium-documentation/blog/2024/01/26/Xiphium-W04-Update/Index"}},d={authorsImageUrls:[void 0]},l=[{value:"Reference Collection Individual",id:"reference-collection-individual",level:2},{value:"Iribov Brazil",id:"iribov-brazil",level:2},{value:"Delivery Bundling",id:"delivery-bundling",level:2},{value:"Add document error handling",id:"add-document-error-handling",level:2},{value:"Financial Month (liquidity)",id:"financial-month-liquidity",level:2},{value:"Order Synchronization",id:"order-synchronization",level:2},{value:"Greenhouse Sorting scan menu",id:"greenhouse-sorting-scan-menu",level:2},{value:"Analysis Invoice creation",id:"analysis-invoice-creation",level:2},{value:"Temperature format",id:"temperature-format",level:2}];function c(e){const n={admonition:"admonition",br:"br",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,r.a)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Here is the weekly update of (significant) changes made in Xiphium this week, extracted from Git(Hub)."}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"These are interpretations of code read from the weekly changes from Git(Hub) and are therefore prone to errors."})}),"\n",(0,t.jsx)(n.h2,{id:"reference-collection-individual",children:"Reference Collection Individual"}),"\n",(0,t.jsx)(n.p,{children:"The backend of reference collection individual (tracking individual reference collection 'tubes') is now in place. The frontend of this feature will be implemented in the next week(s)."}),"\n",(0,t.jsx)(n.h2,{id:"iribov-brazil",children:"Iribov Brazil"}),"\n",(0,t.jsx)(n.p,{children:"Company Code 006 (Iribov Brazil) is continued to be integrated into the system. This week, the DeliveryNote code generator now takes creditor 006 into account when creating a DeliveryNote (using format YYCNNNN where YY = Year, C = ComCode Creditor, N = sequential number)."}),"\n",(0,t.jsx)(n.h2,{id:"delivery-bundling",children:"Delivery Bundling"}),"\n",(0,t.jsxs)(n.p,{children:["There are changes made to the code that facilitates bundling of Delivery_Items. There now seems to be a 'protection' or 'guard clause' to enforce a rule with the alert: '",(0,t.jsx)(n.em,{children:"This Delivery Note should not be bundled, because the new location production needs to have the barcodes"}),"'. There are more changes to this code, but the intentions of the changes are unlear from just reading the code."]}),"\n",(0,t.jsx)(n.h2,{id:"add-document-error-handling",children:"Add document error handling"}),"\n",(0,t.jsx)(n.p,{children:"If there is an error when adding a document, method 'WebApp_Error' is now called to build the $return parameter, instead of building the $return parameter in 3 seperate lines."}),"\n",(0,t.jsx)(n.h2,{id:"financial-month-liquidity",children:"Financial Month (liquidity)"}),"\n",(0,t.jsx)(n.p,{children:"Financial month continues to be developed. The focus is now mostly on modifying the forms and update method to comply to current vision for the table."}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"The queries in method FinLem_UpdateRecord can be optimized to reduce server calls, as discussed in the 4D lesson 'Take care of the queries' @47:00 minutes (watching the whole lesson is recommended though). Although this optimization may not be noticeable when working close to the server, it will be noticeable when further away form the server (say, connected with a VPN from home)."})}),"\n",(0,t.jsxs)(i,{children:[(0,t.jsx)("summary",{children:"Query optimization(s)"}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Optimization example:"})}),(0,t.jsx)(n.p,{children:"current code:"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'$invoice1:=$invoice.query("Inv_Date_Invoice <= :1"; $date_M_Fist)\n$invoice1:=$invoice1.query("Inv_Date_Payment > :1 or Inv_Date_Payment = :2"; $date_M_Fist; !00-00-00!)\n$invoice1:=$invoice1.query("Inv_Date_Closed > :1 or Inv_Date_Closed = :2"; $date_M_Fist; !00-00-00!)\n[Fin_Liq_Month]FinLiM_Deb_Open:=$invoice1.sum("Inv_Amount_SC_Inc_Tax")\n'})}),(0,t.jsx)(n.p,{children:"These 3 server calls can be reduced to a single server call using brackets inside of the query:"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'$invoice1:=$invoice.query("Inv_Date_Invoice <= :1 and (Inv_Date_Payment > :1 or Inv_Date_Payment = :2) and (Inv_Date_Closed > :1 or Inv_Date_Closed = :2)";$date_M_Fist;!00-00-00!)\n'})}),(0,t.jsx)(n.p,{children:"This minimizes communication between the server and the client, optimizing both speed (server only needs to do 1 query instead of 3) and network chatter (server only sends data to client once instead of 3 times)."})]}),"\n",(0,t.jsx)(n.h2,{id:"order-synchronization",children:"Order Synchronization"}),"\n",(0,t.jsxs)(n.p,{children:["The line: ",(0,t.jsx)(n.code,{children:"QUERY SELECTION([Order]; [Order]Ord_no_sync_to_WBP=False)"})," was added to method '",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"Ord_SyncExportOrdersWBPtoFTP"})}),"'. What this means is unclear to me."]}),"\n",(0,t.jsx)(n.h2,{id:"greenhouse-sorting-scan-menu",children:"Greenhouse Sorting scan menu"}),"\n",(0,t.jsxs)(n.p,{children:["Safety is added to the method ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"Scanning_CloseSortingGF"})}),". This means that a password is now needed to finish sorting in the scan menu."]}),"\n",(0,t.jsx)(n.h2,{id:"analysis-invoice-creation",children:"Analysis Invoice creation"}),"\n",(0,t.jsx)(n.p,{children:"Both methods for creating invoices (from suborders and from samples) have a slight change logic so that the discount is taken from the year present in the OrderCode, and not from the year of Date_Entry. This should help with selecting the correct discount(s) for order created in one year, but invoiced in another."}),"\n",(0,t.jsx)(n.admonition,{title:"Analysis OrderCode format",type:"info",children:(0,t.jsxs)(n.p,{children:["OrderCode = [YYMMNNN]",(0,t.jsx)(n.br,{}),"\n","YY=year",(0,t.jsx)(n.br,{}),"\n","MM=month",(0,t.jsx)(n.br,{}),"\n","NNN = sequential number"]})}),"\n",(0,t.jsx)(n.h2,{id:"temperature-format",children:"Temperature format"}),"\n",(0,t.jsxs)(n.p,{children:["The 'TemperatureFormat' is added to the formatting options for displaying Temperatures. This format is used for integers only (no commas), and will show the ",(0,t.jsx)(n.code,{children:"\u2103"})," symbol behind the (stored) integer."]}),"\n",(0,t.jsx)(n.p,{children:"Example: '12' will be shown as '12\u2103' when using this format."})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},1151:(e,n,i)=>{i.d(n,{Z:()=>s,a:()=>a});var t=i(7294);const r={},o=t.createContext(r);function a(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);