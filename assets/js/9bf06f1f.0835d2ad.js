"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8525],{8384:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>c,frontMatter:()=>s,metadata:()=>o,toc:()=>l});var i=t(4848),r=t(8453);const s={title:"Xiphium 2024-W21 update",authors:["jim"]},d=void 0,o={permalink:"/xiphium-documentation/blog/2024/05/24/Xiphium-W21-Update",editUrl:"https://github.com/Iribov/xiphium-documentation/edit/main/blog/2024-05-24-Xiphium-W21-Update/index.md",source:"@site/blog/2024-05-24-Xiphium-W21-Update/index.md",title:"Xiphium 2024-W21 update",description:"Here is the weekly update of (significant) changes made in Xiphium this week, extracted from Git(Hub).",date:"2024-05-24T00:00:00.000Z",formattedDate:"May 24, 2024",tags:[],readingTime:3.595,hasTruncateMarker:!0,authors:[{name:"Jim Kerver",title:"4D Developer @Iribov",url:"https://github.com/Jim-Kerver",imageURL:"https://github.com/Jim-Kerver.png",key:"jim"}],frontMatter:{title:"Xiphium 2024-W21 update",authors:["jim"]},unlisted:!1,prevItem:{title:"Xiphium 2024-W22 update",permalink:"/xiphium-documentation/blog/2024/05/31/Xiphium-W22-Update"},nextItem:{title:"Xiphium 2024-W20 update",permalink:"/xiphium-documentation/blog/2024/05/21/Xiphium-W20-Update"}},a={authorsImageUrls:[void 0]},l=[{value:"Delivery Items Dashboard",id:"delivery-items-dashboard",level:2},{value:"Plant Com Prod Year",id:"plant-com-prod-year",level:2},{value:"Company History (ComH)",id:"company-history-comh",level:2},{value:"Crop",id:"crop",level:2},{value:"Crop Synchronisation",id:"crop-synchronisation",level:3},{value:"Crop &#39;Import transport temp&#39; button",id:"crop-import-transport-temp-button",level:3},{value:"Financial",id:"financial",level:2},{value:"Medium Labels",id:"medium-labels",level:2},{value:"TC Reg Emp",id:"tc-reg-emp",level:2},{value:"Analysis Order Access Trigger",id:"analysis-order-access-trigger",level:2},{value:"Web Stuff",id:"web-stuff",level:2}];function h(e){const n={admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Here is the weekly update of (significant) changes made in Xiphium this week, extracted from Git(Hub)."}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsx)(n.p,{children:"These are interpretations of code read from the weekly changes from Git(Hub) and are therefore prone to errors."})}),"\n",(0,i.jsx)(n.h2,{id:"delivery-items-dashboard",children:"Delivery Items Dashboard"}),"\n",(0,i.jsx)(n.p,{children:"The delivery items dashboard has received some bugfixes and improvements:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Date matrix now works as intended"}),"\n",(0,i.jsx)(n.li,{children:"Cultivar graphs use the same logic as the Crop graphs, just a different selection (better maintainability)"}),"\n",(0,i.jsx)(n.li,{children:"PlantCode and Cultivar Origin were used in an unclear mix. This is now all set to Cultivar Origin."}),"\n",(0,i.jsx)(n.li,{children:"Other small optimizations and improvements"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"plant-com-prod-year",children:"Plant Com Prod Year"}),"\n",(0,i.jsxs)(n.p,{children:["Method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Access_SetupPlantsMenu"})})," has been adjusted. All output and input forms of 'Plant Com Prod Year' (or 'PlaCY') have been renamed in this method."]}),"\n",(0,i.jsx)(n.h2,{id:"company-history-comh",children:"Company History (ComH)"}),"\n",(0,i.jsxs)(n.p,{children:["Method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"ComH_UpdateRecord"})})," now adds the current date and current user to its 'Date_Created', 'Date Modified' and 'EmpName Created', 'EmpName Modifed' fields."]}),"\n",(0,i.jsx)(n.h2,{id:"crop",children:"Crop"}),"\n",(0,i.jsx)(n.h3,{id:"crop-synchronisation",children:"Crop Synchronisation"}),"\n",(0,i.jsxs)(n.p,{children:["Method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Cro_SyncExportCrops"})})," now also includes fields [Crop]Cro_Transport_Temp_Stage2 and [Crop]Cro_Transport_Temp_Stage3. The variable $lastweek has also been changed from ",(0,i.jsx)(n.code,{children:"Current date-7"})," to ",(0,i.jsx)(n.code,{children:"Current date-150"})," meaning that changes from 150 days ago are now exported for synchronization. This is probably done temporarily to properly synchronize the newly added fields."]}),"\n",(0,i.jsx)(n.h3,{id:"crop-import-transport-temp-button",children:"Crop 'Import transport temp' button"}),"\n",(0,i.jsx)(n.p,{children:"Button 'vScan_Btn_Close5' was added to the Crop List tab 5 (certification). This button gets text from the pasteboard consisting of the following data:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Crop Code Number"}),"\n",(0,i.jsx)(n.li,{children:"Temperature Stage 2"}),"\n",(0,i.jsx)(n.li,{children:"Temperature Stage 3\r\nThe button then finds the crop record matching the Crop Code and puts the temperature in their respected fields."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"financial",children:"Financial"}),"\n",(0,i.jsx)(n.p,{children:"Several field name changes in [Fin_Com_Month]:"}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:"Field name changes"}),(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Old Name"}),(0,i.jsx)(n.th,{children:"New Name"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FinCM_L_Loans_In"}),(0,i.jsx)(n.td,{children:"FinCM_L_Loan_In_Real"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FinCM_L_Loans_Out"}),(0,i.jsx)(n.td,{children:"FinCM_L_Loan_Out_Plan"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FinCM_L_Mut_Cred"}),(0,i.jsx)(n.td,{children:"FinCM_L_Mut_Cred_Real"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FinCM_L_Mut_Deb"}),(0,i.jsx)(n.td,{children:"FinCM_L_Mut_Deb_Real"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FinCM_L_Investment"}),(0,i.jsx)(n.td,{children:"FinCM_L_Invest_Plan"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FinCM_L_Liq_In_Sum"}),(0,i.jsx)(n.td,{children:"FinCM_L_Liq_In_Plan"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FinCM_L_Loans_Out"}),(0,i.jsx)(n.td,{children:"FinCM_L_Loan_Out_Plan"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FinCM_L_Tax"}),(0,i.jsx)(n.td,{children:"FinCM_L_Tax_Plan"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FinCM_L_Liq_Out_Sum"}),(0,i.jsx)(n.td,{children:"FinCM_L_Liq_Out_Plan"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FinCM_Mut_Intern"}),(0,i.jsx)(n.td,{children:"FinCM_L_Liq_Saldo_Plan"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FinCM_RC_End_Calc"}),(0,i.jsx)(n.td,{children:"FinCM_RC_End_Plan"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FinCM_RC_End_Saldo"}),(0,i.jsx)(n.td,{children:"FinCM_RC_Saldo_Plan"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FinCM_L_Loans_In_MC"}),(0,i.jsx)(n.td,{children:"FinCM_L_Loan_In_Plan_MC"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FinCM_L_Loans_Out_MC"}),(0,i.jsx)(n.td,{children:"FinCM_L_Loan_Out_Plan_MC"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FinCM_L_Mut_Cred_MC"}),(0,i.jsx)(n.td,{children:"FinCM_L_Mut_Cred_Real_MC"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FinCM_L_Mut_Deb_MC"}),(0,i.jsx)(n.td,{children:"FinCM_L_Mut_Deb_Real_MC"})]})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:["Method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"FinCM_UpdateRecord"})})," has been worked on. It seems to mostly summarize data from other tables."]}),"\n",(0,i.jsxs)(n.p,{children:["Method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"FinCY_UpdateRecord"})})," has been worked on. It seems to mostly summarize data from other tables and do simple calculations with these summarized data to fill its fields."]}),"\n",(0,i.jsxs)(n.p,{children:["Method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"FinLGT_UpdateRecord"})})," has been worked on. There are 3 'MC' fields added that are filled from 'FinLeG_Total'. These fields are then used for some simple calculations."]}),"\n",(0,i.jsxs)(n.p,{children:["Method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"FinLGY_UpdateRecord"})})," has its classic 4D query replaced by an ORDA query."]}),"\n",(0,i.jsx)(n.h2,{id:"medium-labels",children:"Medium Labels"}),"\n",(0,i.jsxs)(n.p,{children:["Method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"MedPro_PrintLabels"})})," now has an extra option for company 006. Apparently these labels have to be slightly different from the labels in 001 and 003, 004."]}),"\n",(0,i.jsx)(n.h2,{id:"tc-reg-emp",children:"TC Reg Emp"}),"\n",(0,i.jsxs)(n.p,{children:["Method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"TC2E_ExportConceptListOrder"})}),' now has 2 extra columns named "Transport temp Stage3" and "Tranfer Price"']}),"\n",(0,i.jsx)(n.h2,{id:"analysis-order-access-trigger",children:"Analysis Order Access Trigger"}),"\n",(0,i.jsx)(n.p,{children:"The trigger method of [Analysis_Order] has been modified. There were fields that a regular used could change, but a manager couldn't. These fields have been added to the manager group as well. Also, the field 'AnO_amount_Datapoints' is added to the exception list."}),"\n",(0,i.jsxs)(n.p,{children:["The code is hard to read and it's easy to make mistakes. Therefore, an optimized method of declaring exception fields will be implemented next week. This will make it possible to pass in an array of fields, as well as the individual fields to the ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"DB_LockFields"})})," method."]}),"\n",(0,i.jsx)(n.h2,{id:"web-stuff",children:"Web Stuff"}),"\n",(0,i.jsxs)(n.p,{children:["Method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"WebApp_Startup"})})," has received the extra line ",(0,i.jsx)(n.code,{children:'WebApp_AddRouting("/api/locations/@"; "Web_TCLocationsController")'}),". This means a new API routing has been added."]}),"\n",(0,i.jsxs)(n.admonition,{type:"note",children:[(0,i.jsxs)(n.p,{children:["What I find strange is that the method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Web_TCLocationsController"})})," is also called in the line before. It must have something to do with a different routing for the same app, but I'm not familiar enough with this architecture to know for sure."]}),(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:"Web_TCLocationsController"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-4D",children:'// (PM) WebApp_Startup\r\n// Initialize the routings for your web app\r\n\r\nWebApp_AddRouting("/api/deliveries/@"; "Web_DeliveriesController")\r\nWebApp_AddRouting("/api/documents/@"; "Web_DocumentsController")\r\nWebApp_AddRouting("/api/greenhouse/@"; "Web_GreenhouseController")\r\nWebApp_AddRouting("/api/greenhousefield/@"; "Web_GFExperimentController")\r\nWebApp_AddRouting("/api/hours/@"; "Web_HoursController")\r\nWebApp_AddRouting("/api/hours-v2/@"; "Web_HoursController")  // RL (12-01-2024) : Streamlined HTTP Client and API usage with other SwiftUI apps\r\nWebApp_AddRouting("/api/photos/@"; "Web_PhotosController")\r\nWebApp_AddRouting("/api/tc-production/@"; "Web_TCProductionController")\r\nWebApp_AddRouting("/api/tc-printing/@"; "Web_TCPrintingController")\r\nWebApp_AddRouting("/api/tc/@"; "Web_TC_Controller")\r\nWebApp_AddRouting("/api/tc-locations/@"; "Web_TCLocationsController")\r\nWebApp_AddRouting("/api/locations/@"; "Web_TCLocationsController")\n'})})]})]}),"\n",(0,i.jsxs)(n.p,{children:["Method ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Web_TCLocationsController"})})," now has 2 new actions: 'refresh' and 'upload'."]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>d,x:()=>o});var i=t(6540);const r={},s=i.createContext(r);function d(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);